/*!
 * in-viewport v0.1.0 - https://github.com/isuttell/in-viewport
 * Checks to see if elements are in the viewport
 * Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 */

!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["exports"],function(c){return b(a,c)}):a.InViewport=b(a,{})}(this,function(a,InViewport){"use strict";function b(){!1===i&&(i=!0,setTimeout(c.bind(this),InViewport.throttle))}function c(){i=!1;for(var a=0;a<this.elements.length;a++)this.elements[a].update.apply(this.elements[a])}function d(a,b){"undefined"!=typeof window.$&&a instanceof window.$?(this.$el=a,this.el=a[0]):this.el=a,this.options=h(b||{},j),this.update()}function e(){var a=window.document.documentElement.clientHeight,b=window.innerHeight;return b>a?b:a}function f(a){var b=0,c=0;do isNaN(a.offsetTop)||(b+=a.offsetTop),isNaN(a.offsetLeft)||(c+=a.offsetLeft),a=a.offsetParent;while(a);return{top:b,left:c}}function g(a,b){var c=a.offsetHeight,d=window.pageYOffset||window.document.documentElement.scrollTop,g=d+e(),h=f(a).top,i=h+c;b=b||0;var j=g>=h+c*b,k=i>=d;return j&&k}function h(a,b){for(var c in b)"object"==typeof b[c]?a[c]=h(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),InViewport.elements=[],InViewport.track=function(a,b){var c=new d(a,b);return this.elements.push(c),c},InViewport.clear=function(){this.elements=[]},InViewport.throttle=100;var i=!1;window.addEventListener("scroll",b.bind(InViewport),!1),d.prototype.visible=null,d.prototype.update=function(){this._lastVisible=this.visible,this.visible=g(this.el,this.options.viewportFactor),this._lastVisible!==this.visible&&!0===this.visible?this.options.onEnter.call(this,this.el):this._lastVisible!==this.visible&&!1===this.visible&&this.options.onLeave.call(this,this.el)};var j={viewportFactor:.2,onEnter:function(){},onLeave:function(){}};return InViewport});